---
import { HStack, VStack, Wrap, Box, Stack } from "@styled-system/jsx";
import GoogleMap from "src/components/shared/google-map.astro";
import fetchApi from "../../lib/strapi";
import type PersonalInformation from "src/interfaces/views/personal_information";
const perso = await fetchApi<PersonalInformation>({
  endpoint: "personal-information",
  wrappedByKey: "data",
  query: {
    fields: ["*"],
  },
});
---
<VStack
  alignItems={"flex-start"}
  justifyContent={"flex-start"}
  className="left-column"
  w={"100%"}
  gap={"96px"}
  maxW={"850px"}
>
  <h2>Nous Contacter</h2>
  <HStack 
    width={"100%"} 
    justifyContent={"space-between"} 
    alignItems={"flex-start"}
    gap={"40px"} 
    className="contact-row"
  >
  <VStack className="contact-link" w={"50%"}>
    <p>Nous sommes à:</p>
    <a target="_blank" href="https://maps.app.goo.gl/9Hujk3U63aUWfoeH8" class="address">{perso?.adress}</a>
  </VStack>
    <VStack className="contact-link" w={"50%"}>
      <p>Téléphone:</p>
      <a href={`tel:${perso?.phone}`}>{perso?.phone}</a>
    </VStack>
  </HStack>
  <HStack
    width={"100%"}
    gap={"40px"}
    className="contact-row"
  >
    <VStack className="contact-link" w={"100%"}>
      <p>Email:</p>
      <a target="_blank" href={`mailto:${perso?.email}`}>{perso?.email}</a>
    </VStack>
  </HStack>
</VStack>

<style>
  .left-column {
    height: 100%;
    align-self: stretch;
    flex: 1 1 300px;
    min-width: 0;
    max-width: 850px;
    width: 100%;
  }
  h2 {
    font-family: var(--font-titre);
    font-size: 80px;
    font-weight: 700;
    color: var(--color-primary);
    max-width: 100%;
    width: 100%;
    line-height: 1.1;
  }
  p {
    font-size: 14px;
    font-family: var(--font-text);
    color: rgba(var(--color-primary-rgb), 0.5);
  }
  a {
    font-size: 28px;
    font-family: var(--font-titre);
    font-weight: 700;
    color: rgba(var(--color-primary-rgb), 1);
    text-decoration: none;
    line-height: 1.3;
    word-break: break-word;
  }
  .address {
    max-width: 300px;
  }
  a:hover {
    color: rgba(var(--color-primary-rgb), 0.5);
  }
  .contact-link {
    align-items: flex-start;
    gap: 4px;
    min-width: 0;
  }
  /* Tablets and below */
  @media (max-width: 1024px) {
    .left-column {
      gap: 64px;
    }
    h2 {
      font-size: 60px;
    }
    a {
      font-size: 24px;
    }
  }
  /* Mobile devices */
  @media (max-width: 768px) {
    .left-column {
      gap: 48px;
      min-width: 0;
    }
    h2 {
      font-size: 48px;
      max-width: 100%;
    }
    .contact-row {
      flex-direction: column;
      gap: 32px;
    }
    .contact-link {
      width: 100% !important;
    }
    a {
      font-size: 22px;
    }
    .address {
      max-width: 100%;
    }
  }
  /* Small mobile */
  @media (max-width: 480px) {
    .left-column {
      gap: 40px;
    }
    h2 {
      font-size: 36px;
    }
    a {
      font-size: 20px;
    }
    .contact-row {
      gap: 24px;
    }
  }
</style>