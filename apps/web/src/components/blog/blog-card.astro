---
import { HStack, VStack, Stack } from "@styled-system/jsx";
import Tags from "src/components/shared/tags.astro";

interface Tag {
  icon: "calendar" | "male" | "female" | "clock" | "paw" | "guide";
  label: string;
}

interface Props {
  name: string;
  image: string;
  tags: Tag[];
  href?: string;
}

const { name, image, tags, href = "/articles" } = Astro.props;
---

<a href={href} class="card-link">
  <VStack className="card" gap={6}>
    <Stack className="card-header">
      <HStack gap={2} className="tags-list" position={"absolute"} top={"24"} left={"24"}>
        {tags.map((tag) => <Tags icon={tag.icon} label={tag.label} />)}
      </HStack>
      <img src={image} alt={name} />
    </Stack>
    <VStack className="card-footer">
      <h3>{name}</h3>
      <p>Jan 20, 2025</p>
    </VStack>
  </VStack>
</a>

<style>
  .card-link {
    text-decoration: none;
    color: inherit;
  }

  .card {
    width: 100%;
  }
  .card-header {
    width: 100%;
    height: 400px;
    min-height: 400px;
    border-radius: 32px;
    padding: 24px;

    overflow: hidden;
    position: relative;

    img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      z-index: 0;
      transition: transform 0.3s ease;
    }
  }
  .card-header:hover img {
    transform: scale(1.03);
  }

  .card-footer {
    width: 100%;
    align-items: flex-start;
    padding: 0 8px;
    gap: 10px;
    h3 {
      width: 100%;
      font-size: 32px;
      flex-shrink: 0;
      font-family: Georgia, "Times New Roman", serif;
      color: var(--primary);
      font-weight: 600;
      line-height: 35.8px;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 2;
      overflow: hidden;
    }
    h3:hover {
      color: rgba(var(--primary-rgb), 0.5);
      cursor: pointer;
    }
    p {
      font-size: 12px;
      color: rgba(var(--primary-rgb), 0.7);
      font-weight: 500;
      line-height: 15px;
      font-family: var(--police-tag);
    }
  }

  .tags-list {
    position: absolute;
    top: 24px;
    left: 24px;
    z-index: 1;
  }
</style>
